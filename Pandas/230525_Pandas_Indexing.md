# Pandas - Indexing

Pandas는 Numpy의 행렬과 같이 쉼표를 사용한 (행, 열) 형식의 2차원 인덱싱을 지원한다. 

그 중 두 가지 인덱싱 방법인, loc와 iloc에 관해 배워보자.

- loc : 라벨값(문자) 기반의 2차원 인덱싱
- iloc : 순서를 나타내는 정수 기반의 인덱싱 (0-base 위치 기반 인덱싱)

---

## 인덱서를 사용하지 않은 일반 인덱싱 

- `df['col']` : 열 추출 (열 우선)
    - `df['col']` : 시리즈 반환
    - `df[['col']]` : 데이터프레임 반환 (이중 대괄호 사용)
- `df[:row]` : 행 추출 (슬라이싱 이용)
    - `df['row1':'row2']` : **문자 인덱스 슬라이싱의 경우 end값을 포함한 결과 추출!!**
    - end 생략 가능, 마지막 행까지 출력
    - end 값으로 잘못된 값을 지정해도 error X, 마지막 행까지 출력
    - start 값 생략 가능, 첫 행부터 출력
    - start 값을 잘못 지정할 경우, error X, 출력 비정상
- `df['col']['row']` : 열, 행 순서로 추출

**열 추출의 경우, `df.col` 와 같이 .연산자 사용 가능하다!!**

---

## loc 인덱싱

- `df.loc['row']` : 행 추출 (행 우선)
    - 비 연속적인 여러 개의 행을 추출할 경우 이중 대괄호로 묶어서 추출한다.
    - 일반 인덱싱과 마찬가지로 한 개의 행만 추출할 경우 series로 반환된다. 
    - 데이터프레임의 형태로 추출하고 싶은 경우, 이중 대괄호를 이용해서 추출한다.
- `df.loc['row1':'row2']` : 슬라이싱
    - **loc 슬라이싱의 경우 end-1 이 아니라 end를 포함한 값까지 결과 추출!!**
- `df.loc['row', 'col']` : 행, 열 2차원 기반 추출

boolean 인덱싱도 사용 가능하다.  
`df.loc[df.col > 5]` : col 열의 값 중 5가 넘는 값을 가지는 행들만 추출  

*인덱스가 문자형으로 이루어진 경우, loc 인덱싱에서 숫자 인덱싱 불가!!*  

**슬라이싱은 이중 대괄호 사용 불가!!**  
-> 데이터프레임으로 추출하려면 슬라이싱 이용하지 않고 이중 대괄호 사용.  

---

## iloc 인덱싱

- 라벨(문자)이 아닌 위치를 나타내는 정수 인덱스만 사용
- 0-base 위치 인덱스 사용

`df.iloc[row, col]`

- `df.iloc[i, j]` : i행 j열의 값 추출
- `df.iloc[0:2, 1:2]` : 0~1행, 1열 에 해당하는 데이터프레임 반환 
    - **start ~ end-1 적용**
- `df.iloc[:-1]` : 마지막 행을 제외하고 슬라이싱
    - **- 슬라이싱 사용 가능**
- `df.iloc[-1:]` : 첫번째 행을 제외하고 슬라이싱

