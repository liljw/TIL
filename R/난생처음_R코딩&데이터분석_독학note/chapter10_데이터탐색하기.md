# 난생처음 R 코딩 & 데이터 분석 - Chapter 10. 데이터 탐색하기

R 프로그래밍을 배우는 목적은 **주어진 데이터를 효과적으로 분석하기 위함**이다.  
이 전까지는 데이터 분석을 하기 위해 필요한 기초 지식을 학습하였다면,  
이제부터는 그 기초지식을 바탕으로 실제로 데이터를 분석하는 과정과, 방법에 대해서 배워보자.

## 이것이 탐색적 데이터 분석입니다 

데이터 분석의 절차는 아래와 같다.  
1. 문제 정의 및 계획
    - 현실에서 해결하고자 하는 문제가 무엇인지를 명확히 정의하는 것으로부터 시작한다.   
    **문제가 명확해야 어떤 데이터를 수집해야하는지 알 수 있고, 어떤 분석 기법을 적용해야 하는지도 계획할 수 있다.**
2. 데이터 수집
3. 데이터 정제/전처리
    - 수집된 데이터는 바로 분석에 활용할 수 없는 경우가 대부분이다.   
    아래와 같은 과정을 거쳐서 수집된 데이터를 분석이 가능한 형태로 정돈하는 과정을 데이터 정제 또는 **전처리** (data preprocessing)이라고 한다.
        - 단위 통일
        - 결측값 제거
        - 이상치 처리
        - 데이터 병합
4. 데이터 탐색
    - 이 단계부터 사실상 데이터 분석에 해당한다.  
    일반적으로 데이터 탐색(data exploration)과 데이터 분석(data analysis)를 구분하는데,  
    데이터 탐색은 **가벼운 데이터 분석**이라고 이해하면 된다.  
    수집된 데이터의 건수는 얼마나 되는지, 각 수집 항목별로 평균은 얼마나 되는지 등  
    비교적 간단하고 쉬운 통계 기법을 적용하여 전반적인 데이터의 내용을 파악하는 단계이다.  
    **탐색적 데이터 분석(EDA, Exploratory Data Analysis)이라고도 한다.**
5. 데이터 분석
    - 데이터 탐색 단계에서 파악한 정보를 바탕으로 보다 심화된 분석을 수행하는 단계이다. 
6. 결과 보고
    - 데이터 분석과 해석이 마무리되면 내용을 정리하여 보고서 형태로 작성하는데,   
    정리의 핵심은 **처음에 했던 문제 정의에 대해 문제를 해결하는데 도움이 되는 내용을 요약하는 것**이다. 

### 탐색적 데이터 분석의 이해

데이터 분석은 수집한 데이터의 종류에 따라 사용하는 분석 도구가 달라진다.  

데이터는 데이터의 수집 주제의 개수에 따라 '1차원 데이터'와 '2차원 데이터'로 나뉜다.  
수집 주제는 통계에서 **변수**라는 용어로 사용되는데,  
변수가 하나인 1차원 데이터는 **단일변수 데이터(일변량 데이터)**,  
여러 개의 변수에 대한 데이터를 하나로 모아놓은 2차원 데이터는 **다중변수 데이터(다변량 데이터)**라고 한다.

데이터의 형태에 따라서는 '그룹'정보로 구성된 **범주형 데이터**와,  
'숫자'로 구성된 **수치형 데이터**로 구분된다. 

|데이터의 종류||자료구조|분석도구|
|---|---|---|---|
|단일변수|범주형|벡터, 팩터|도수분포표, 막대그래프, 원그래프|
|단일변수|수치형|벡터|평균, 중앙값, 분산, 4분위수, 히스토그램, 선그래프, 상자그림|
|다중변수|수치형|매트릭스, 데이터프레임|산점도, 상관계수, 나무지도, 방사형차트|

---

## 단일변수 데이터를 분석해봅시다

단일변수 데이터는 크게 범주형 데이터와 수치형 데이터로 나뉘는데,  
범주형 데이터의 경우 도수분포를 계산하여 막대그래프나 원그래프로 시각화하는 것이 좋고,  
수치형 데이터의 경우 히스토그램이나 상자그림으로, 시계열 데이터는 선그래프로 시각화하는 것이 좋다. 

---

## 다중변수 데이터를 분석해봅시다

다중변수 데이터는 단일변수 데이터가 모여서 형성된 데이터이기 때문에 다중변수 데이터 분석에도 단일변수 데이터 분석 방법이 적용될 수 있다.  
하지만 다중변수 데이터에서는 포함된 변수들에 대한 개별 분석보다는 **변수와 변수의 관계를 찾는 것이 더 의미있다.** 

따라서 다중변수 데이터에서 변수들 간의 상관관계를 분석하는데 초점을 맞춰보자.

1. 먼저 **산점도**를 이용해 변수들 간에 어떤 관련성이 있는지 알아본다.

### 상관관계

x축 변수의 값이 증가하면 y축 변수의 값이 비례해서 증가하거나,  
반대로 x축 변수의 값이 증가하면 y축 변수의 값이 비례해서 감소하는 경우  
**두 변수는 상관관계에 있다**고 할 수 있다.  

두 변수가 어느 정도나 강한 상관관계인지 수치로 나타낸 지표를 **상관계수**(corelation coefficient)라고 한다.  
상관계수는 -1에서 1사이의 값을 갖는데, 상관계수가 0인 경우는 두 변수 사이의 상관성을 찾기 어렵고,   
**-1이나 1로 가까워질 수록 산점도 상의 점들이 직선에 가까워진다.**  
상관계수가 -인 경우는 두 변수가 반비례하고, **음의 상관관계**에 있다고 한다.  
상관계수가 +인 경우는 두 변수가 비례하고, **양의 상관관계**에 있다고 한다.  

상관계수는 `cor(x, y)` 함수를 이용해서 값을 구할 수 있으며,  
정해진 기준은 없지만, 대체로 0.5이상이거나 -0.5 이하이면 상관관계가 있다고 볼 수 있다.  

### 다중변수 사이의 상관관계

다중산점도를 작성하려면 `plot(df)` 이렇게 plot함수에 데이터프레임을 넣어주면 된다.  

또한, 상관계수를 구하는 함수에 `cor(df)` 이렇게 2개의 변수가 아닌 3개 이상의 변수(데이터프레임)를 입력하면 다중 산점도와 비슷한 형태의 결과가 나타난다.
(이 때 다중 산점도와 마찬가지로 대각선은 동일한 변수끼리의 상관계수가 표시되므로 값은 항상 1이다.)


주의할 점은, **상관관계는 인과관계를 의미하지는 않는다는 점이다!!**  
상관계수 값이 높다고 해서 원인-결과 관계를 의미하지는 않는다는 것이다.  
인과관계를 알기 위해서는 보다 심층적인 연구를 해야 알 수 있다.  



