# 난생처음 R 코딩 & 데이터 분석 - Chapter 04. 벡터 다루기


## 자료의 종류를 알아봅니다

데이터 분석을 하는 이유?  
= 자료(Data)에 담겨있는 어떤 종류의 정보나 지식을 추출하고 이를 통해 현실을 이해하거나 현실의 문제를 해결하는 데 활용하기 위함이다.

데이터(Data)란?  
= **특정 주제에 대한 값들을 모아 놓은 것**

1차원 자료 vs 2차원 자료  
- 1차원 자료: 단일 주제에 대한 값들을 모아놓은 자료 (벡터, 리스트, 팩터)
- 2차원 자료: 복수 주제에 대한 값들을 모아놓은 자료 (매트릭스, 데이터프레임)

자료는 저장되는 값들에 특성에 따라서도 두 가지로 나누어 볼 수 있다.  
- 범주형 자료(categorical data): '분류'의 의미를 갖는 값들로 구성된 자료
- 수치형 자료(numerical data): 값들이 크기를 가지며 산술연산이 가능하다

## 벡터 연산을 해볼까요?

### 벡터에 대한 산술연산 

벡터에 산술연산을 하면 벡터 안에 존재하는 값 하나하나에 대한 연산으로 바뀌어 실행된다.  
하지만, 연산을 했을 때 벡터 안에 저장된 데이터가 바뀌는 것은 아니다! 
바꿔주려면 다시 할당을 해줘야 한다.  

### 벡터와 벡터의 연산 

벡터 간 대응되는 위치에 있는 값들끼리의 연산으로 바뀌어 실행된다.  
즉, 벡터 간 길이가 같아야하고, 자료형이 같아야한다!  

논리연산자에서 주의할 점은 and와 or이다.  
and는 `&`, or은 `|`로 쓴다.  

!!   
`d <- 1:9` 이고,  
`sum(d>5)`를 하면, **5보다 큰 값의 개수**를 출력한다!!  

*왜냐하면 d>5라고만 하면 True나 False값으로 반환되는데,*  
*True는 1, False는 0으로 치환되기 때문에 True의 갯수인 4가 반환된다.* 

5보다 큰 값의 합계를 구하고 싶으면  
`sum(d[d>5])`라고 써줘야 한다.  

---

## 팩터와 리스트는 무엇인가요?  

### 팩터(factor)

팩터는 문자형 데이터가 저장되는 벡터의 일종으로 저장되는 문자값들이 어떠한 종류를 나타내는 값(성별, 혈액형, 선호 정당 등과 같은 범주형 자료들)일 때 사용한다.  

```r
bt <- c("A","B","B","O","AB","A")
bt.new <- factor(bt)
bt
bt.new
bt[5]
bt.new[5]
levels(bt.new)
as.integer(bt.new)
bt.new[7] <- "B"
bt.new[8] <- "C"
```

벡터 bt의 내용을 출력하면 따옴표로 묶여있는 문자값들이 출력되는데,  
**팩터 bt.new를 출력하면 따옴표가 없는 문자값들이 출력**된다!!  
이게 벡터와 팩터의 첫 번째 차이이다.  

또한, 팩터도 벡터의 일종이기 때문에 값을 추출하는 방법은 벡터와 같이 인덱스를 이용하거나, 값에 이름이 붙어 있다면 이름을 통해서도 값을 추출할 수 있다.  
그리고 팩터는 하나의 값을 추출하여 출력하더라도 전체 팩터에 저장된 값들의 종류 정보를 함께 표시해줍니다. 

`levels()`는 팩터에 저장된 값들의 종류를 반환하는 함수인데,  
벡터에서도 `unique()`함수를 쓰면 벡터에 저장된 값들의 종류를 알아낼 수 있다.  

중요한 점은, **팩터는 저장된 문자값을 숫자로 바꾸어 분석 작업에 활용할 수 있다는 점**이다!  
`as.integer()`함수로 숫자로 바꿀 수 있는데, 이 때 바꾸는 방법에는 규칙이 있다.  
levels 함수를 통해 출력된 종류의 순서가 값들이 변환될 숫자가 된다.  

또한 `bt.new[7] <- "B"`의 경우에는 에러가 나지 않고 정상적으로 팩터의 7번째 인덱스에 "B"라는 값이 추가되는데,  
`bt.new[8] <- "C"`의 경우에는 경고메세지가 뜬다.  
*왜냐하면 기존 팩터에 없는 종류의 값을 추가했기 때문이다.*  
**이 경우, 에러가 나지는 않고, 값이 추가는 되는데 결측값(NA)로 추가된다.** 

---

### 리스트(list)

리스트는 자료형이 다른 값들을 한 곳에 저장하고 다룰 수 있도록 해주는 수단이다.  

**다만, 데이터 프레임과 다른 점은 리스트는 길이가 다른 자료들도 리스트로 묶을 수 있다는 점이다.**

리스트의 파라미터로는 `저장될 값의 이름`과 `값의 내용`을 `=`로 연결하여 쌍으로 지정한다.  

리스트에 저장된 값을 출력하려면, 전체를 출력하는 건 다른 자료형과 같이 리스트의 변수명을 입력해주면 되고,  
`리스트 명$리스트에 저장된 값의 이름`으로 써준다.  
또한 인덱스를 이용해서 추출하는 방법도 있는데,  
벡터에서는 `[]`대괄호 안에 인덱스를 넣어서 추출했다면  
리스트에서는 `[[]]` 이중대괄호를 안에 인덱스를 넣어서 추출한다!  




