# R - begins


## 객체지향 설계

- 객체지향의 개념
    - 현신 세계를 모형화하여 개발자 특히 사용자의 이해를 쉽게 할 수 있다.  
    개체의 속성 + 메서드(기능)이 결합한 형태
- 구성 요소 

요약해서, 객체는 현실세계의 개체를 모형화 한 것으로,  
**개체의 속성과 메서드(기능)가 결합한 것을 객체(Object)라고 한다.**

## 데이터 구조 및 저장 구조에 따른 형태

데이터 구조에 따라 데이터는 3가지로 나뉜다. 

1. 정형 데이터 : 형태가 있고 계산이 가능한 것은 ex) oracle, MariaDB
2. 반정형 데이터 ex) log, html, xml
3. 비정형 데이터 ex) sns에서 제공되는 text

저장 구조에 따라 나누면, 

1. RDBMS
2. File: rowdata
3. NoSQL: 하둡

*정형 데이터를 가지고 가공(통계, 분석)등을 하는게 이 수업의 목표!*

## 프로그래밍이란?

- 프로그램(Program) : 특정 프로그래밍 언어를 사용하여 문제 해결 과정을 작성한 문서로, 컴퓨터에게 일을 시키기 위한 '작업 지시서'
- 컴파일(Compile) : 인간의 언어에 가까운 프로그램을 컴퓨터가 이해할 수 있는 기계어 형태로 변환하는 과정

---

## R

### 분석과정

- 연구배경
    - 가설
    - 분석방향 기획
    - 방법론 검토
- 데이터 수집
    - 필요한 변수 설정
    - 데이터 파악
- 전처리 (마이닝)
    - 이상치/결측치 처리
- 분석
    - 통계기법
    - 시각화
- 해석

R은 컴파일 과정 없이도 바로 실행하여 결과를 확인할 수 있다.   
그래서 '프로그램'이 아니라 스크립트(script), *프로그래밍 언어*라고 부른다.

IDE(Integrated Development Environment): 통합 개발 환경.  
R의 IDE는 R Studio이다.  

---

## R Studio

### Java를 R과 연동  

1. 시스템 환경설정   
`Sys.setenv(JAVA_HOME="경로명")`  
2. 위의 경로를 가져온다  
`Sys.getenv("JAVA_HOME")`  

- 소스 영역은 메인 메뉴에서 file - new file - 
- ctrl + shift + n 으로 새 문서(소스)를 열 수 있다. 
- ctrl + 2 : 콘솔 창으로 이동. 
- ctrl + 1 : 소스 창으로 이동.
- getwd() : 현재 위치.
- setwd() : 워킹 디렉토리 변경.  
괄호 안에 "/Users/" 이런식으로 경로를 넣어주고 tap키를 눌러주면 자동완성이 된다.
- ctrl + l : 콘솔창 clear
- `rm(list=ls())` : 변수 모두 지우기
- `rm(var)` : 하나의 변수 지우기 
- `ls()` : 전체 변수 목록 확인
- NaN : 수학적으로 정의가 불가능한 값
- Inf : 무한대의 값. 음의 무한대는 -Inf.
- NA : 결측값
- NULL : 비어있는 값


- 스칼라(scalar) : 단일 차원의 값 (단 하나의 원소값)
- 벡터(vector) : 1차원에 여러개의 데이터가 모인 데이터의 집합(스칼라의 모임) (=배열)
- 데이터 프레임 : 엑셀구조
- 행렬(matrix) : 행과 열의 구조를 갖는 2차원 배열 구조
- 팩터(factor) : 범주형 데이터(정의되어 있는 카테고리)를 표현하기 위한 데이터 구
- 리스트(list) : Key-value 형태로 저장되는 데이터 구조
- 배열(array) : 다차원 데이터 구조

문자와 숫자를 혼합한 벡터를 만들어보면, 
```r
a <- c(1,2,3,"4")
a
>> "1", "2", "3", "4"
```

결과는 **모든 요소가 문자로 바뀐다!!**  
마지막 요소가 문자형이어서가 아니라, 하나라도 문자가 섞여있으면 모두가 문자형으로 바뀐다.  
*왜냐하면 벡터는 단일형 데이터만 담을 수 있기 때문이다.*
그리고, 숫자는 무조건 문자로 바꿀 수 있는데, 반대의 경우는 성립하지 않기 때문이다. 

`sum, min, max, mean, median, range, var, plot, summary ...`

이 중 `plot`은 플롯창에 그래프로 데이터를 시각화해서 보여주고,  
`summary`는 말 그대로 데이터들의 요약본을 출력한다.  

`table()`은 집계를 하는 함수이다.  
즉, 데이터 요소의 갯수(count한 값)을 반환한다.   


### 일정한 간격의 숫자로 이루어진 벡터 

`seq()`를 이용한다.  

```r
v3 <- seq(1, 101, 3)  
>> 1, 4, 7, 10...
v4 <- seq(0.1, 1.0, 0.1)
>> 0.1, 0.2, 0.3 ...
```

### 반복된 숫자로 이루어진 벡터 

`rep()`를 이용한다.

```r
v5 <- rep(1,times=5)
v6 <- rep(1:5, times=3)
v7 <- rep(c(1,5,9), times=3)
tsn_e <- rep(c(3,6,9), each=5)
```

each는 각 요소를 n번 반복하는 것이고,  
times는 전체 요소를 n번 반복한다. 

### 표본 추출

`sample()`을 이용한다. 

```r
sample(1:100, 20, replace=T)
sample(1:5, size=10, prob=c(1,1,1,2,5), replace=TRUE)
table(sample(1:3, size=100, prob=c(3,6,1), replace=TRUE))
barplot(table(sample(1:3, size=100, prob=c(3,6,1), replace=TRUE)))
```

size는 표본의 크기를 의미하고, replace는 중복 여부를 입력한다.   
만약 replace값을 입력하지 않으면, default는 False로 설정된다.  
prob은 확률을 의미하는 것인데, 1은 10%, 5는 50%를 의미한다.  
table로는 비율을 확인할 수 있으며, (확률에 따라서 추출되어 나온 요소들의 갯수)  
barplot은 플롯창에 데이터를 막대 그래프의 형식으로 시각화 한 결과를 보여준다.  

### 난수 발생기

`runif(개수, 최소, 최대)` 을 사용한다. 

```r
runif(10, -1, 1)
round(runif(30, 70, 90))
```

난수는 기본적으로 소숫점 다섯번재자리까지 출력이 되는데, 자연수로만 뽑고 싶다면  
round()함수를 이용해주자.

### 정렬

- 오름차순
`sort(DB)`
- 내림차순
`sort(DB, decreasing = T)`  
*내림차순은 decresing값을 TRUE로 설정해준다!*

### 인덱스 출력

- 최댓값을 갖는 원소의 인덱스를 출력
`which.max(DB)`
- 최솟값을 갖는 원소의 인덱스를 출력
`which.min(DB)`  
*함수 앞에 which. 를 붙여준다!*

### 조건문 

- 10보다 작은 값의 원소 출력
`DB[DB<10]`, `DB[which(DB<10)]`
- 20 이상의 원소 출력
`DB[DB>=20]`, `DB[which(DB>=20)]`

**데이터의 변수명을 쓰고 대괄호[]로 묶어준다!**


인구특성에 따른 커피소비 분석 및 솔루션 제안
- 다중회귀분석
